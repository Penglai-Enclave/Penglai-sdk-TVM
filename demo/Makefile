all:
	CC=$(CC) LINK=$(LINK) AR=$(AR) make -C host
	CC=$(CC) LINK=$(LINK) AR=$(AR) make -C rootkit
	CC=$(CC) LINK=$(LINK) AR=$(AR) make -C rop-host
	CC=$(CC) LINK=$(LINK) AR=$(AR) make -C cache-host
	CC=$(CC) LINK=$(LINK) AR=$(AR) make -C fork-host
	make -C hello-world
	make -C relay-page
	make -C mem
	make -C IPC
	make -C FS
	make -C test-stop
	make -C psa
	make -C seperated_filesystem_simple
	make -C rop-attack
	make -C cache-attack
	make -C cache-defend
	make -C loop

	#CC=$(CC) LINK=$(LINK) AR=$(AR) make -C  mphost_normal

clean:
	CC=$(CC) LINK=$(LINK) AR=$(AR) make -C host clean
	CC=$(CC) LINK=$(LINK) AR=$(AR) make -C rop-host clean
	CC=$(CC) LINK=$(LINK) AR=$(AR) make -C cache-host clean
	CC=$(CC) LINK=$(LINK) AR=$(AR) make -C fork-host clean
	CC=$(CC) LINK=$(LINK) AR=$(AR) make -C rootkit clean
	make -C hello-world clean
	make -C relay-page clean
	make -C mem clean
	make -C IPC clean
	make -C FS clean
	make -C test-stop clean
	make -C psa clean
	make -C seperated_filesystem_simple clean
	make -C rop-attack clean
	make -C cache-attack clean
	make -C cache-defend clean
	make -C loop clean

